[{"/Users/stuartmackinnon/projects/clio-2/clio/src/index.js":"1","/Users/stuartmackinnon/projects/clio-2/clio/src/reportWebVitals.js":"2","/Users/stuartmackinnon/projects/clio-2/clio/src/App.js":"3","/Users/stuartmackinnon/projects/clio-2/clio/src/Content.js":"4","/Users/stuartmackinnon/projects/clio-2/clio/src/Sidebar.js":"5","/Users/stuartmackinnon/projects/clio-2/clio/src/Login.js":"6","/Users/stuartmackinnon/projects/clio-2/clio/src/Canvas.js":"7","/Users/stuartmackinnon/projects/clio-2/clio/src/Modal.js":"8","/Users/stuartmackinnon/projects/clio-2/clio/src/Toast.js":"9","/Users/stuartmackinnon/projects/clio-2/clio/src/ebconfig.js":"10","/Users/stuartmackinnon/projects/clio-2/clio/src/Player.js":"11"},{"size":288,"mtime":1613267045000,"results":"12","hashOfConfig":"13"},{"size":362,"mtime":1612328284000,"results":"14","hashOfConfig":"13"},{"size":2617,"mtime":1613272963000,"results":"15","hashOfConfig":"13"},{"size":3833,"mtime":1613267031000,"results":"16","hashOfConfig":"13"},{"size":2080,"mtime":1613101815000,"results":"17","hashOfConfig":"13"},{"size":263,"mtime":1612413563000,"results":"18","hashOfConfig":"19"},{"size":2632,"mtime":1613266951000,"results":"20","hashOfConfig":"13"},{"size":325,"mtime":1612413602000,"results":"21","hashOfConfig":"13"},{"size":491,"mtime":1612413654000,"results":"22","hashOfConfig":"13"},{"size":194,"mtime":1612478748000,"results":"23","hashOfConfig":"13"},{"size":963,"mtime":1612745464000,"results":"24","hashOfConfig":"19"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"mhb2e2",{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"27"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"27"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"27"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"42"},"9ljd3",{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"27"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"57"},"/Users/stuartmackinnon/projects/clio-2/clio/src/index.js",[],["58","59"],"/Users/stuartmackinnon/projects/clio-2/clio/src/reportWebVitals.js",[],"/Users/stuartmackinnon/projects/clio-2/clio/src/App.js",["60","61"],"import { useReducer, createContext, useRef } from \"react\";\nimport \"./App.css\";\nimport Sidebar from \"./Sidebar\";\nimport Content from \"./Content\";\nimport Canvas from \"./Canvas\";\nimport { EasybaseProvider } from \"easybase-react\";\nimport ebconfig from \"./ebconfig\";\nimport AudioPlayer from \"react-h5-audio-player\";\nimport \"react-h5-audio-player/src/styles.scss\";\nimport { motion } from \"framer-motion\";\nimport media from \"./media.json\";\n\nexport const StoreContext = createContext(null);\n\nconst DEFAULT_PLAYLIST = \"home\";\n\nconst initialState = {\n  currentPlaylist: DEFAULT_PLAYLIST,\n  media,\n  playlists: {\n    home: new Set(media.ids),\n    favourites: new Set(),\n  },\n  nowPlaying: \"\",\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"ADD_PLAYLIST\":\n      return {\n        ...state,\n        playlists: { ...state.playlists, [action.playlist]: new Set() },\n      };\n    case \"SET_PLAYLIST\":\n      return { ...state, currentPlaylist: action.playlist };\n    case \"ADD_FAVOURITE\":\n      state.playlists.favourites.add(action.trackId);\n      return { ...state };\n    case \"REMOVE_FAVOURITE\":\n      state.playlists.favourites.delete(action.trackId);\n      return { ...state };\n    case \"NOW_PLAYING\":\n      state.nowPlaying = action.file;\n      return { ...state };\n    case \"AUDIO_END\":\n      state.nowPlaying = \"\";\n      return { ...state };\n\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const variants = {\n    hidden: {\n      opacity: 0,\n      transition: {\n        when: \"afterChildren\",\n      },\n    },\n    visible: {\n      opacity: 1,\n      transition: {\n        duration: 2,\n        when: \"beforeChildren\",\n        staggerChildren: 0.9,\n      },\n    },\n  };\n\n  return (\n    <EasybaseProvider ebconfig={ebconfig}>\n      <StoreContext.Provider value={{ state, dispatch }}>\n        <motion.div initial=\"hidden\" animate=\"visible\" variants={variants}>\n          <div className=\"app\">\n            {/* <Login /> */}\n            {/* <Sidebar /> */}\n            <Canvas />\n            <div className=\"content-player-container\">\n              <Content />\n              <div className=\"player-bar\">\n                <AudioPlayer\n                  src={state.nowPlaying}\n                  className=\"audio-player\"\n                  onEnded={() => {\n                    dispatch({ type: \"AUDIO_END\" });\n                  }}\n                />\n              </div>\n            </div>\n            <Canvas />\n          </div>\n        </motion.div>\n      </StoreContext.Provider>\n    </EasybaseProvider>\n  );\n}\n\nexport default App;\n","/Users/stuartmackinnon/projects/clio-2/clio/src/Content.js",["62","63","64"],"import { useContext, useEffect } from \"react\";\nimport { StoreContext } from \"./App\";\nimport \"./Content.css\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport { useEasybase } from \"easybase-react\";\nimport penrose from \"./images/penrose.png\";\nimport { motion } from \"framer-motion\";\n\nconst Content = () => {\n  const { state, dispatch } = useContext(StoreContext);\n  const currentPlaylist = state.currentPlaylist;\n  const trackIds = Array.from(state.playlists[currentPlaylist]);\n\n  // easybase db\n  const { configureFrame, sync, Frame } = useEasybase();\n\n  useEffect(() => {\n    configureFrame({ tableName: \"CLIO-TRACKS\", limit: 20, offset: 0 });\n    sync();\n  }, []);\n  // easybase db\n\n  // framer motion variants\n  const variants = {\n    hidden: { opacity: 0 },\n    visible: { opacity: 1, transition: { duration: 4 } },\n  };\n\n  return (\n    <div className=\"content\">\n      {/* <img src={penrose} alt=\"logo\" className=\"logo\" /> */}\n      <div className=\"playlist-title\">\n        <h3>dream world, driftwood</h3>\n        <p>\n          meditative // generative // ambient // lo-fi // internet music library\n        </p>\n        <p>last updated 14/2/2021</p>\n      </div>\n      {!trackIds.length ? (\n        <p>Looks like this playlist is empty. Check back later.</p>\n      ) : (\n        <motion.div initial=\"hidden\" animate=\"visible\" variants={variants}>\n          <table className=\"track-table\">\n            <thead>\n              <tr>\n                <td />\n                <td>Title</td>\n                <td>Artist</td>\n                <td>Length</td>\n              </tr>\n            </thead>\n\n            <tbody>\n              {Frame()\n                .sort((a, b) => (a.id > b.id ? 1 : -1))\n                .map((elem) => {\n                  const isFavourite = state.playlists.favourites.has(elem.id);\n\n                  return (\n                    <tr key={elem.id}>\n                      {/* <td>\n                      {isFavourite ? (\n                        <FavoriteIcon\n                          className=\"icon fav\"\n                          onClick={() => {\n                            dispatch({\n                              type: \"REMOVE_FAVOURITE\",\n                              trackId: elem.id,\n                            });\n                          }}\n                        />\n                      ) : (\n                        <FavoriteBorderIcon\n                          className=\"icon\"\n                          onClick={() => {\n                            dispatch({\n                              type: \"ADD_FAVOURITE\",\n                              trackId: elem.id,\n                            });\n                          }}\n                        />\n                      )}\n                    </td> */}\n                      <td>\n                        {state.nowPlaying === elem.file ? (\n                          <PauseIcon\n                            onClick={() => {\n                              dispatch({ type: \"NOW_PLAYING\", file: \"\" });\n                            }}\n                          />\n                        ) : (\n                          <PlayArrowIcon\n                            onClick={() => {\n                              dispatch({\n                                type: \"NOW_PLAYING\",\n                                file: elem.file,\n                              });\n                            }}\n                          />\n                        )}\n                      </td>\n                      <td>{elem.title}</td>\n                      <td>{elem.artist}</td>\n                      <td>{elem.length}</td>\n                    </tr>\n                  );\n                })}\n            </tbody>\n          </table>\n        </motion.div>\n      )}\n    </div>\n  );\n};\n\nexport default Content;\n","/Users/stuartmackinnon/projects/clio-2/clio/src/Sidebar.js",["65","66","67","68","69"],"import { useState, useRef, useContext } from \"react\";\nimport { StoreContext } from \"./App\";\nimport \"./Sidebar.css\";\nimport penrose from \"./images/penrose.png\";\nimport Modal from \"./Modal\";\nimport Toast from \"./Toast\";\n\nconst Sidebar = () => {\n  const [sidebarState, setState] = useState({\n    modal: false,\n\n    toast: \"\",\n  });\n\n  const { state, dispatch } = useContext(StoreContext);\n\n  const playlists = Object.keys(state.playlists);\n\n  const playlistRef = useRef(null);\n\n  const addPlaylist = (e) => {\n    e.preventDefault();\n\n    const playlist = playlistRef.current.value;\n\n    dispatch({ type: \"ADD_PLAYLIST\", playlist: playlist });\n\n    setState({\n      ...state,\n      modal: false,\n      toast: \"Playlist created successfully!\",\n    });\n  };\n\n  const handleModal = () =>\n    setState({ ...sidebarState, modal: !sidebarState.modal });\n\n  return (\n    <div className=\"sidebar\">\n      <img src={penrose} alt=\"logo\" />\n      {/* <ul className=\"playlist-list\">\n        {playlists.map((list) => (\n          <li\n            key={list}\n            className={list === state.currentPlaylist ? \"active\" : \"\"}\n            onClick={() => {\n              dispatch({ type: \"SET_PLAYLIST\", playlist: list });\n            }}\n          >\n            {list}\n          </li>\n        ))}\n        <li className=\"new-playlist\" onClick={handleModal}>\n          New Playlist\n        </li>\n      </ul> */}\n      {/* <Modal show={sidebarState.modal} close={handleModal}>\n        <form className=\"playlist-form\" onSubmit={addPlaylist}>\n          <div className=\"form-title\">New Playlist</div>\n          <div className=\"form-content\">\n            <input\n              type=\"text\"\n              placeholder=\"My Playlist\"\n              ref={playlistRef}\n              required\n            />\n            <br />\n            <button type=\"submit\">Create</button>\n          </div>\n        </form>\n      </Modal>\n      <Toast\n        toast={sidebarState.toast}\n        close={() => {\n          setState({ ...sidebarState, toast: \"\" });\n        }}\n      /> */}\n    </div>\n  );\n};\n\nexport default Sidebar;\n","/Users/stuartmackinnon/projects/clio-2/clio/src/Login.js",["70"],"import React from \"react\";\nimport \"./Login.css\";\nimport penrose from \"./images/penrose.png\";\n\nconst Login = () => {\n  return (\n    <div className=\"login\">\n      <img src={penrose} alt=\"penrose-logo\" />\n      <a>LOGIN</a>\n    </div>\n  );\n};\n\nexport default Login;\n",["71","72"],"/Users/stuartmackinnon/projects/clio-2/clio/src/Canvas.js",["73"],"import { useRef, useEffect } from \"react\";\nimport \"./Canvas.css\";\n\nconst Canvas = (props) => {\n  const canvasRef = useRef(null);\n\n  const containerRef = useRef();\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext(\"2d\");\n    let frameCount = 0;\n    let animationFrameId;\n\n    let container = containerRef.current;\n    let bounds = container.getBoundingClientRect();\n    console.log(bounds);\n\n    canvas.width = bounds.width;\n    canvas.height = bounds.height;\n\n    let colorArray = [\"#0a9cbc\"];\n\n    let gradient = context.createLinearGradient(\n      0,\n      0,\n      window.innerWidth,\n      bounds.bottom\n    );\n    gradient.addColorStop(0, \"#e0e0e0\");\n    gradient.addColorStop(0.2, \"#fa9987\");\n    gradient.addColorStop(0.3, \"#e0e0e0\");\n    gradient.addColorStop(1, \"#fa9987\");\n\n    function Circle(x, y, dx, dy, radius) {\n      this.x = x;\n      this.y = y;\n      this.dx = dx;\n      this.dy = dy;\n      this.radius = radius;\n      this.color = colorArray[Math.floor(Math.random() * colorArray.length)];\n\n      this.draw = function () {\n        context.beginPath();\n        context.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n        context.fillStyle = gradient;\n        context.fill();\n      };\n\n      this.update = () => {\n        if (this.x + this.radius > canvas.width || this.x - this.radius < 0) {\n          this.dx = -this.dx;\n        }\n\n        if (this.y + this.radius > canvas.height || this.y - this.radius < 0) {\n          this.dy = -this.dy;\n        }\n\n        this.x += this.dx / 6;\n        this.y += this.dy / 6;\n\n        this.draw();\n      };\n    }\n\n    // let ball = new Circle(50, 50, Math.random(), Math.random(), 10);\n    let circleArray = [];\n\n    for (let i = 0; i < 300; i++) {\n      let radius = Math.random() * 30 + 70;\n      let x = Math.random() * (canvas.width - radius * 2) + radius;\n      let y = Math.random() * (canvas.height - radius * 2) + radius;\n      let dx = Math.random() - 0.05;\n      let dy = Math.random() - 0.08;\n\n      circleArray.push(new Circle(x, y, dx, dy, radius));\n    }\n\n    const render = () => {\n      frameCount++;\n      context.clearRect(0, 0, window.innerWidth, window.innerHeight);\n\n      for (let i = 0; i < circleArray.length; i++) {\n        circleArray[i].update();\n      }\n\n      animationFrameId = window.requestAnimationFrame(render);\n    };\n    render();\n\n    return () => {\n      window.cancelAnimationFrame(animationFrameId);\n    };\n  }, []);\n\n  return (\n    <div className=\"canvas-container\" ref={containerRef}>\n      <canvas ref={canvasRef} {...props} />\n    </div>\n  );\n};\n\nexport default Canvas;\n","/Users/stuartmackinnon/projects/clio-2/clio/src/Modal.js",[],"/Users/stuartmackinnon/projects/clio-2/clio/src/Toast.js",["74"],"import { useEffect } from \"react\";\nimport \"./Toast.css\";\n\nconst Toast = ({ toast, close }) => {\n  useEffect(() => {\n    if (!toast) return;\n\n    const closeToast = () => {\n      setTimeout(() => {\n        close();\n      }, 1500);\n    };\n\n    closeToast();\n\n    return () => {\n      clearTimeout(closeToast);\n    };\n  }, [toast]);\n\n  if (!toast) return null;\n\n  return (\n    <div className=\"toast\">\n      <div className=\"toast-content\">{toast}</div>\n    </div>\n  );\n};\n\nexport default Toast;\n",["75","76"],"/Users/stuartmackinnon/projects/clio-2/clio/src/ebconfig.js",[],"/Users/stuartmackinnon/projects/clio-2/clio/src/Player.js",["77","78"],"import { useState, useRef, useEffect } from \"react\";\n\nconst Player = (props) => {\n  const audioElement = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  useEffect(() => {\n    if (isPlaying) {\n      audioElement.current.play();\n    } else {\n      audioElement.current.pause();\n    }\n  });\n\n  const SkipSong = (forwards = true) => {\n    if (forwards) {\n      props.setCurrentSongIndex(() => {\n        let temp = props.currentSongIndex;\n        temp++;\n\n        if (temp > props.songs.length - 1) {\n          temp = 0;\n        }\n\n        return temp;\n      });\n    } else {\n      props.setCurrentSongIndex(() => {\n        let temp = props.currentSongIndex;\n        temp--;\n\n        if (temp > props.songs.length - 1) {\n          temp = 0;\n        }\n\n        return temp;\n      });\n    }\n  };\n\n  return (\n    <div className=\"player\">\n      <audio ref={audioElement}></audio>\n      <h4>Now Playing</h4>\n    </div>\n  );\n};\n\nexport default Player;\n",["79","80"],{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":1,"column":37,"nodeType":"87","messageId":"88","endLine":1,"endColumn":43},{"ruleId":"85","severity":1,"message":"89","line":3,"column":8,"nodeType":"87","messageId":"88","endLine":3,"endColumn":15},{"ruleId":"85","severity":1,"message":"90","line":7,"column":8,"nodeType":"87","messageId":"88","endLine":7,"endColumn":15},{"ruleId":"91","severity":1,"message":"92","line":21,"column":6,"nodeType":"93","endLine":21,"endColumn":8,"suggestions":"94"},{"ruleId":"85","severity":1,"message":"95","line":58,"column":25,"nodeType":"87","messageId":"88","endLine":58,"endColumn":36},{"ruleId":"85","severity":1,"message":"96","line":5,"column":8,"nodeType":"87","messageId":"88","endLine":5,"endColumn":13},{"ruleId":"85","severity":1,"message":"97","line":6,"column":8,"nodeType":"87","messageId":"88","endLine":6,"endColumn":13},{"ruleId":"85","severity":1,"message":"98","line":17,"column":9,"nodeType":"87","messageId":"88","endLine":17,"endColumn":18},{"ruleId":"85","severity":1,"message":"99","line":21,"column":9,"nodeType":"87","messageId":"88","endLine":21,"endColumn":20},{"ruleId":"85","severity":1,"message":"100","line":35,"column":9,"nodeType":"87","messageId":"88","endLine":35,"endColumn":20},{"ruleId":"101","severity":1,"message":"102","line":9,"column":7,"nodeType":"103","endLine":9,"endColumn":10},{"ruleId":"81","replacedBy":"104"},{"ruleId":"83","replacedBy":"105"},{"ruleId":"85","severity":1,"message":"106","line":80,"column":7,"nodeType":"87","messageId":"88","endLine":80,"endColumn":17},{"ruleId":"91","severity":1,"message":"107","line":19,"column":6,"nodeType":"93","endLine":19,"endColumn":13,"suggestions":"108"},{"ruleId":"81","replacedBy":"109"},{"ruleId":"83","replacedBy":"110"},{"ruleId":"85","severity":1,"message":"111","line":5,"column":21,"nodeType":"87","messageId":"88","endLine":5,"endColumn":33},{"ruleId":"85","severity":1,"message":"112","line":15,"column":9,"nodeType":"87","messageId":"88","endLine":15,"endColumn":17},{"ruleId":"81","replacedBy":"113"},{"ruleId":"83","replacedBy":"114"},"no-native-reassign",["115"],"no-negated-in-lhs",["116"],"no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'Sidebar' is defined but never used.","'penrose' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'configureFrame' and 'sync'. Either include them or remove the dependency array.","ArrayExpression",["117"],"'isFavourite' is assigned a value but never used.","'Modal' is defined but never used.","'Toast' is defined but never used.","'playlists' is assigned a value but never used.","'addPlaylist' is assigned a value but never used.","'handleModal' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["115"],["116"],"'frameCount' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'close'. Either include it or remove the dependency array. If 'close' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["118"],["115"],["116"],"'setIsPlaying' is assigned a value but never used.","'SkipSong' is assigned a value but never used.",["115"],["116"],"no-global-assign","no-unsafe-negation",{"desc":"119","fix":"120"},{"desc":"121","fix":"122"},"Update the dependencies array to be: [configureFrame, sync]",{"range":"123","text":"124"},"Update the dependencies array to be: [close, toast]",{"range":"125","text":"126"},[727,729],"[configureFrame, sync]",[320,327],"[close, toast]"]